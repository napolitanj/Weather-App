(()=>{"use strict";function t(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function e(e){t(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===n?new Date(e.getTime()):"number"==typeof e||"[object Number]"===n?new Date(e):("string"!=typeof e&&"[object String]"!==n||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function n(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function r(r){t(1,arguments);var o=n(r);return e(1e3*o)}const o=async function(t){try{const n=await async function(t){try{const e=await fetch(function(t){return"https://api.openweathermap.org/data/2.5/weather?q="+t+"&appid=0102347143dfbb9da8fa1a6c7f338297"}(t)),n=await e.json();return{name:n.name,lon:n.coord.lon,lat:n.coord.lat}}catch{console.log("city error")}}(t),r=await fetch((e=n,"minutely,alerts","https://api.openweathermap.org/data/2.5/onecall?lat="+e.lat+"&lon="+e.lon+"&exclude=minutely,alerts&appid=0102347143dfbb9da8fa1a6c7f338297"),{mode:"cors"}),o=await r.json();return o.locationName=n.name,o}catch{console.log("error")}var e};function a(t){return(1.8*(t-273.15)+32).toPrecision(3)}function c(t){return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.floor(t/22.5+.5)%16]}function u(){return document.getElementById("search").value}let i="chicago";function d(){const t=document.getElementById("weatherChart");o(i).then((function(e){e.daily.forEach((e=>{let n=function(t){let e=r(t).getDay();return 0===e?"Sunday":1===e?"Monday":2===e?"Tuesday":3===e?"Wednesday":4===e?"Thursday":5===e?"Friday":6===e?"Saturday":void 0}(e.dt),o=function(t){let e=r(t).getMonth(),n=r(t).getDate();return 0===e?"Jan "+n:1===e?"Feb "+n:2===e?"Mar "+n:3===e?"Apr "+n:4===e?"May "+n:5===e?"Jun "+n:6===e?"Jul "+n:7===e?"Aug "+n:8===e?"Sep "+n:9===e?"Oct "+n:10===e?"Nov "+n:11===e?"Dec "+n:void 0}(e.dt),u="http://openweathermap.org/img/wn/"+e.weather[0].icon+"@2x.png";t.appendChild(function(t,e,n,r,o,u){const i=document.createElement("div"),d=document.createElement("h3"),l=document.createElement("p"),m=document.createElement("p"),s=document.createElement("p"),p=document.createElement("img");return i.classList.add("weatherItem"),d.textContent=t,l.textContent=e,m.textContent="Temp: "+a(n),s.textContent="Wind: "+Math.round(r)+"mph "+c(o),p.src=u,i.appendChild(d),i.appendChild(l),i.appendChild(m),i.appendChild(s),i.appendChild(p),i}(n,o,e.temp.day,e.wind_speed,e.wind_deg,u))}))}))}function l(t){let e=r(t);return e.getHours()<12?String(e.getHours())+":"+String(e.getMinutes()+" a.m."):String(e.getHours()-12)+":"+String(e.getMinutes()+" p.m.")}function m(){o(i).then((function(t){var e;e="http://openweathermap.org/img/wn/"+t.current.weather[0].icon+"@2x.png",document.getElementById("currentIcon").src=e})),o(i).then((function(t){var e;e=t.current.temp,document.getElementById("currentTemp").textContent=a(e)})),o(i).then((function(t){var e;e=t.daily[0].pop,document.getElementById("currentPrecip").textContent="Preciptition: "+100*e+"%"})),o(i).then((function(t){var e;e=t.current.humidity,document.getElementById("currentHumid").textContent="Humidity: "+e})),o(i).then((function(t){var e,n;e=t.current.wind_speed,n=t.current.wind_deg,document.getElementById("currentWind").textContent="Wind: "+Math.round(e)+"mph "+c(n)})),o(i).then((function(t){var e;e=l(t.current.sunrise),document.getElementById("sunrise").textContent="Sunrise: "+e})),o(i).then((function(t){var e;e=l(t.current.sunset),document.getElementById("sunset").textContent="Sunset: "+e})),o(i).then((function(t){var e;e=t.locationName,document.getElementById("location").textContent=e})),o(i).then((function(t){var e;e=l(t.current.dt),document.getElementById("time").textContent="Updated at "+e})),u(),d()}document.getElementById("searchButton").addEventListener("click",(()=>(i=u(),document.getElementById("weatherChart").textContent="",m(),void d()))),m()})();